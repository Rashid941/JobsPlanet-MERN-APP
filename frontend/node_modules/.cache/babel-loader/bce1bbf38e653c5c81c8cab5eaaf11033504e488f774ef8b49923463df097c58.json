{"ast":null,"code":"import _defineProperty from\"C:/Users/Admin/OneDrive/Desktop/Pr/JobsPlanet-MERN-App/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"C:/Users/Admin/OneDrive/Desktop/Pr/JobsPlanet-MERN-App/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/Admin/OneDrive/Desktop/Pr/JobsPlanet-MERN-App/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/Admin/OneDrive/Desktop/Pr/JobsPlanet-MERN-App/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/Admin/OneDrive/Desktop/Pr/JobsPlanet-MERN-App/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from\"react\";import axios from'axios';import Card from\"react-bootstrap/Card\";import{connect}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddEducation=/*#__PURE__*/function(_Component){_inherits(AddEducation,_Component);var _super=_createSuper(AddEducation);function AddEducation(props){var _this;_classCallCheck(this,AddEducation);_this=_super.call(this,props);_this.onLogoutClick=function(e){e.preventDefault();_this.props.logoutUser();};_this.onChange=function(e){_this.setState(_defineProperty({},e.target.id,e.target.value));};_this.onSubmit=function(e){e.preventDefault();var user=_this.props.auth.user;var newEducation={school:_this.state.school,degree:_this.state.degree,startdate:_this.state.startdate,enddate:_this.state.enddate};var g1,g2;if(newEducation.startdate&&newEducation.enddate){g1=new Date(newEducation.startdate);g2=new Date(newEducation.enddate);}if(!newEducation.startdate||newEducation.school===\"\"||newEducation.degree===\"\"){alert(\"School, Degree and Start Date are required!\");}else if(newEducation.enddate&&g2<g1){alert(\"End date cannot be before start date.\");}else{_this.state.userDetails.education.push(newEducation);axios.put('http://localhost:4000/user/edit_profile/'+user.id,_this.state.userDetails).then(function(response){console.log(_this.state.userDetails);_this.props.history.push('/profile');}).catch(function(error){console.log(error);});}};_this.state={newed:[],role:\"\",school:\"\",degree:\"\",startdate:new Date(),// enddate: new Date(),\nuserDetails:[],errors:{}};return _this;}_createClass(AddEducation,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var user=this.props.auth.user;axios.get('http://localhost:4000/user/'+user.id).then(function(response){_this2.setState({userDetails:response.data});}).catch(function(error){console.log(error);});}},{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextProps){if(nextProps.errors){this.setState({errors:nextProps.errors});}}},{key:\"render\",value:function render(){var userRole=this.state.userDetails.role;var _AddEducation;if(userRole==='applicant'){_AddEducation=/*#__PURE__*/_jsxs(\"form\",{noValidate:true,onSubmit:this.onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-field col s12\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"school\",children:\"School\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{onChange:this.onChange,value:this.state.school,id:\"school\",type:\"text\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-field col s12\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"degree\",children:\"Degree\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{onChange:this.onChange,value:this.state.degree,id:\"degree\",type:\"text\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-field col s12\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"startdate\",children:\"Start Date\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{onChange:this.onChange,value:this.state.startdate,id:\"startdate\",type:\"date\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-field col s12\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"enddate\",children:\"End Date\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{onChange:this.onChange,value:this.state.enddate,id:\"enddate\",type:\"date\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col s12\",style:{paddingLeft:\"11.250px\"},children:/*#__PURE__*/_jsx(\"button\",{style:{width:\"150px\",borderRadius:\"3px\",letterSpacing:\"1.5px\",marginTop:\"1rem\"},type:\"submit\",className:\"btn btn-primary btn-large waves-effect waves-light hoverable blue accent-3\",children:\"Save\"})})]});}return/*#__PURE__*/_jsx(\"div\",{style:{height:\"75vh\"},className:\"valign-wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col s12 center-align\",children:/*#__PURE__*/_jsx(Card,{style:{width:'100%'},children:/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsx(Card.Text,{children:_AddEducation})})})})})});}}]);return AddEducation;}(Component);var mapStateToProps=function mapStateToProps(state){return{auth:state.auth,errors:state.errors};};export default connect(mapStateToProps)(AddEducation);","map":{"version":3,"names":["React","Component","axios","Card","connect","jsx","_jsx","jsxs","_jsxs","AddEducation","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","onLogoutClick","e","preventDefault","logoutUser","onChange","setState","_defineProperty","target","id","value","onSubmit","user","auth","newEducation","school","state","degree","startdate","enddate","g1","g2","Date","alert","userDetails","education","push","put","then","response","console","log","history","catch","error","newed","role","errors","_createClass","key","componentDidMount","_this2","get","data","componentWillReceiveProps","nextProps","render","userRole","noValidate","children","className","htmlFor","type","style","paddingLeft","width","borderRadius","letterSpacing","marginTop","height","Body","Text","mapStateToProps"],"sources":["C:/Users/Admin/OneDrive/Desktop/Pr/JobsPlanet-MERN-App/frontend/src/components/Applicant/AddEducation.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport axios from 'axios';\nimport Card from \"react-bootstrap/Card\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\n\nclass AddEducation extends Component {\n    onLogoutClick = e => {\n        e.preventDefault();\n        this.props.logoutUser();\n    };\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            newed:[],\n            role: \"\",\n            school: \"\",\n            degree: \"\",\n            startdate: new Date(),\n            // enddate: new Date(),\n            userDetails: [],\n            errors: {}\n        };\n    }\n\n    componentDidMount() {\n        const { user } = this.props.auth;\n        axios.get('http://localhost:4000/user/'+ user.id)\n            .then(response => {\n                this.setState({userDetails: response.data});\n            })\n            .catch(function(error) {\n                console.log(error);\n            })\n    }\n\n    onChange = e => {\n        this.setState({ [e.target.id]: e.target.value });\n    };\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.errors) {\n            this.setState({\n                errors: nextProps.errors\n            });\n        }\n    }\n\n    onSubmit = e => {\n        e.preventDefault();\n        const { user } = this.props.auth;\n        const newEducation = {\n            school: this.state.school,\n            degree: this.state.degree,\n            startdate: this.state.startdate,\n            enddate: this.state.enddate\n        };\n        var g1,g2;\n        if(newEducation.startdate && newEducation.enddate)\n        {\n            g1 = new Date(newEducation.startdate); \n            g2 = new Date(newEducation.enddate); \n        }\n        if(!newEducation.startdate || newEducation.school === \"\" || newEducation.degree === \"\")\n        {\n            alert(\"School, Degree and Start Date are required!\");\n        }\n        else if(newEducation.enddate && g2<g1)\n        {\n            alert(\"End date cannot be before start date.\");\n        }\n        else{\n            this.state.userDetails.education.push(newEducation);\n            axios\n                .put('http://localhost:4000/user/edit_profile/' + user.id, this.state.userDetails)\n                .then(response => {\n                    console.log(this.state.userDetails);this.props.history.push('/profile');\n                })\n                .catch(function(error) {\n                    console.log(error);\n                })\n        }\n    };\n\n    render() {\n        const userRole = this.state.userDetails.role;\n        let AddEducation;\n        if(userRole === 'applicant') {\n            AddEducation = \n            <form noValidate onSubmit={this.onSubmit}>\n                <div className=\"input-field col s12\">\n                    <label htmlFor=\"school\">School</label><br></br>\n                    <input\n                        onChange={this.onChange}\n                        value={this.state.school}\n                        id=\"school\"\n                        type=\"text\"\n                    />\n                </div>\n                <div className=\"input-field col s12\">\n                    <label htmlFor=\"degree\">Degree</label><br></br>\n                    <input\n                        onChange={this.onChange}\n                        value={this.state.degree}\n                        id=\"degree\"\n                        type=\"text\"\n                    />\n                </div>\n                <div className=\"input-field col s12\">\n                    <label htmlFor=\"startdate\">Start Date</label><br></br>\n                    <input\n                        onChange={this.onChange}\n                        value={this.state.startdate}\n                        id=\"startdate\"\n                        type=\"date\"\n                    />\n                </div>\n                <div className=\"input-field col s12\">\n                    <label htmlFor=\"enddate\">End Date</label><br></br>\n                    <input\n                        onChange={this.onChange}\n                        value={this.state.enddate}\n                        id=\"enddate\"\n                        type=\"date\"\n                    />\n                </div>\n                <div className=\"col s12\" style={{ paddingLeft: \"11.250px\" }}>\n                    <button\n                        style={{\n                        width: \"150px\",\n                        borderRadius: \"3px\",\n                        letterSpacing: \"1.5px\",\n                        marginTop: \"1rem\"\n                        }}\n                        type=\"submit\"\n                        className=\"btn btn-primary btn-large waves-effect waves-light hoverable blue accent-3\"\n                    >\n                        Save\n                    </button>\n                </div>\n            </form>\n        }\n        return (\n            <div style={{ height: \"75vh\" }} className=\"valign-wrapper\">\n                <div className=\"row\">\n                    <div className=\"col s12 center-align\">\n                        <Card style={{ width: '100%' }}>\n                            <Card.Body>\n                                <Card.Text>\n                                    {AddEducation}\n                                </Card.Text>\n                            </Card.Body>\n                        </Card>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nAddEducation.propTypes = {\n    auth: PropTypes.object.isRequired,\n    errors: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n    auth: state.auth,\n    errors: state.errors\n});\nexport default connect(\n    mapStateToProps,\n)(AddEducation);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}